"use strict";(globalThis.webpackChunkpicolms_docs=globalThis.webpackChunkpicolms_docs||[]).push([[7526],{684(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"api/hooks/use-question-timer","title":"useQuestionTimer","description":"A React hook for managing countdown timers with precise control over timing, state management, and callbacks.","source":"@site/docs/api/hooks/use-question-timer.mdx","sourceDirName":"api/hooks","slug":"/api/hooks/use-question-timer","permalink":"/picolms-docs/docs/api/hooks/use-question-timer","draft":false,"unlisted":false,"editUrl":"https://github.com/berkesas/picolms/tree/main/packages/create-docusaurus/templates/shared/docs/api/hooks/use-question-timer.mdx","tags":[],"version":"current","frontMatter":{"id":"use-question-timer","title":"useQuestionTimer","sidebar_label":"useQuestionTimer"},"sidebar":"apiSidebar","previous":{"title":"useQuestionState","permalink":"/picolms-docs/docs/api/hooks/use-question-state"},"next":{"title":"useQuestionValidation","permalink":"/picolms-docs/docs/api/hooks/use-question-validation"}}');var s=i(4848),t=i(8453);const l={id:"use-question-timer",title:"useQuestionTimer",sidebar_label:"useQuestionTimer"},o="useQuestionTimer",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Import",id:"import",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Parameters",id:"parameters",level:2},{value:"<code>options</code>",id:"options",level:3},{value:"Examples",id:"examples",level:3},{value:"Basic Configuration",id:"basic-configuration",level:4},{value:"With Time Up Callback",id:"with-time-up-callback",level:4},{value:"With Tick Callback",id:"with-tick-callback",level:4},{value:"With Auto-start",id:"with-auto-start",level:4},{value:"Return Value",id:"return-value",level:2},{value:"Properties",id:"properties",level:3},{value:"<code>timeRemaining</code>",id:"timeremaining",level:4},{value:"<code>timeElapsed</code>",id:"timeelapsed",level:4},{value:"<code>isRunning</code>",id:"isrunning",level:4},{value:"<code>isTimeUp</code>",id:"istimeup",level:4},{value:"<code>progress</code>",id:"progress",level:4},{value:"Methods",id:"methods",level:3},{value:"<code>start()</code>",id:"start",level:4},{value:"<code>pause()</code>",id:"pause",level:4},{value:"<code>resume()</code>",id:"resume",level:4},{value:"<code>reset()</code>",id:"reset",level:4},{value:"Examples",id:"examples-1",level:2},{value:"Countdown Timer with Progress Bar",id:"countdown-timer-with-progress-bar",level:3},{value:"Manual Timer Control",id:"manual-timer-control",level:3},{value:"Timer with Visual Feedback",id:"timer-with-visual-feedback",level:3},{value:"Formatted Time Display",id:"formatted-time-display",level:3},{value:"Multiple Timers",id:"multiple-timers",level:3},{value:"Timer with Auto-submit",id:"timer-with-auto-submit",level:3},{value:"Timer with Pause Functionality",id:"timer-with-pause-functionality",level:3},{value:"Timer with Progress Stages",id:"timer-with-progress-stages",level:3},{value:"Timer Behavior",id:"timer-behavior",level:2},{value:"Update Interval",id:"update-interval",level:3},{value:"Automatic Stop",id:"automatic-stop",level:3},{value:"State Transitions",id:"state-transitions",level:3},{value:"Progress Calculation",id:"progress-calculation",level:3},{value:"TypeScript",id:"typescript",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Conditional Auto-start",id:"conditional-auto-start",level:3},{value:"Timer with Warnings",id:"timer-with-warnings",level:3},{value:"Persistent Timer State",id:"persistent-timer-state",level:3},{value:"Related Hooks",id:"related-hooks",level:2},{value:"Notes",id:"notes",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"usequestiontimer",children:"useQuestionTimer"})}),"\n",(0,s.jsx)(n.p,{children:"A React hook for managing countdown timers with precise control over timing, state management, and callbacks."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"useQuestionTimer"})," handles:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Countdown Management"}),": Track remaining and elapsed time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Timer Controls"}),": Start, pause, resume, and reset functionality"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Progress Tracking"}),": Calculate percentage-based progress"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Time Callbacks"}),": Execute functions on timer completion and intervals"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Auto-start"}),": Optional automatic timer initialization"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"import",children:"Import"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useQuestionTimer } from './hooks/useQuestionTimer';\r\nimport type { UseQuestionTimerOptions, UseQuestionTimerReturn } from './hooks/useQuestionTimer';\n"})}),"\n",(0,s.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useQuestionTimer } from './hooks/useQuestionTimer';\r\n\r\nfunction QuizQuestion() {\r\n  const {\r\n    timeRemaining,\r\n    isRunning,\r\n    start,\r\n    pause,\r\n    reset,\r\n  } = useQuestionTimer({\r\n    timeLimit: 60,\r\n    onTimeUp: () => console.log('Time is up!'),\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <p>Time remaining: {timeRemaining}s</p>\r\n      <button onClick={start}>Start</button>\r\n      <button onClick={pause}>Pause</button>\r\n      <button onClick={reset}>Reset</button>\r\n    </div>\r\n  );\r\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsx)(n.h3,{id:"options",children:(0,s.jsx)(n.code,{children:"options"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"UseQuestionTimerOptions"})]}),"\n",(0,s.jsx)(n.p,{children:"Configuration object for the hook."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Required"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"timeLimit"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"0"})}),(0,s.jsx)(n.td,{children:"Total time limit in seconds"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"onTimeUp"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"() => void"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Callback executed when timer reaches zero"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"onTick"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"(timeRemaining: number) => void"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Callback executed every second with remaining time"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"autoStart"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsx)(n.td,{children:"Whether to start the timer automatically on mount"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.h4,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const timer = useQuestionTimer({\r\n  timeLimit: 120,\r\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"with-time-up-callback",children:"With Time Up Callback"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const timer = useQuestionTimer({\r\n  timeLimit: 60,\r\n  onTimeUp: () => {\r\n    alert('Time is up!');\r\n    submitAnswer();\r\n  },\r\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"with-tick-callback",children:"With Tick Callback"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const timer = useQuestionTimer({\r\n  timeLimit: 30,\r\n  onTick: (remaining) => {\r\n    console.log(`${remaining} seconds remaining`);\r\n    if (remaining === 10) {\r\n      showWarning('Only 10 seconds left!');\r\n    }\r\n  },\r\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"with-auto-start",children:"With Auto-start"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const timer = useQuestionTimer({\r\n  timeLimit: 180,\r\n  autoStart: true,\r\n  onTimeUp: () => handleTimeExpired(),\r\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"UseQuestionTimerReturn"})]}),"\n",(0,s.jsx)(n.p,{children:"The hook returns an object with the following properties and methods:"}),"\n",(0,s.jsx)(n.h3,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(n.h4,{id:"timeremaining",children:(0,s.jsx)(n.code,{children:"timeRemaining"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"number"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": The remaining time in seconds"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const { timeRemaining } = useQuestionTimer({ timeLimit: 60 });\r\n\r\nconsole.log(`${timeRemaining} seconds left`);\n"})}),"\n",(0,s.jsx)(n.h4,{id:"timeelapsed",children:(0,s.jsx)(n.code,{children:"timeElapsed"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"number"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": The elapsed time in seconds since timer started"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const { timeElapsed } = useQuestionTimer({ timeLimit: 60 });\r\n\r\nconsole.log(`${timeElapsed} seconds have passed`);\n"})}),"\n",(0,s.jsx)(n.h4,{id:"isrunning",children:(0,s.jsx)(n.code,{children:"isRunning"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Whether the timer is currently running"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const { isRunning } = useQuestionTimer(options);\r\n\r\nif (isRunning) {\r\n  console.log('Timer is active');\r\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"istimeup",children:(0,s.jsx)(n.code,{children:"isTimeUp"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Whether the timer has reached zero"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const { isTimeUp } = useQuestionTimer(options);\r\n\r\nif (isTimeUp) {\r\n  console.log('Time has expired');\r\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"progress",children:(0,s.jsx)(n.code,{children:"progress"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"number"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Progress percentage from 0 to 100"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const { progress } = useQuestionTimer({ timeLimit: 60 });\r\n\r\nconsole.log(`${progress}% complete`);\r\n// Calculated as: ((timeLimit - timeRemaining) / timeLimit) * 100\n"})}),"\n",(0,s.jsx)(n.h3,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h4,{id:"start",children:(0,s.jsx)(n.code,{children:"start()"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"() => void"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Starts the timer from the beginning"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const { start } = useQuestionTimer(options);\r\n\r\n// Start the countdown\r\nstart();\n"})}),"\n",(0,s.jsx)(n.h4,{id:"pause",children:(0,s.jsx)(n.code,{children:"pause()"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"() => void"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Pauses the timer and maintains current time"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const { pause } = useQuestionTimer(options);\r\n\r\n// Temporarily stop the timer\r\npause();\n"})}),"\n",(0,s.jsx)(n.h4,{id:"resume",children:(0,s.jsx)(n.code,{children:"resume()"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"() => void"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Resumes the timer from paused state"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const { resume } = useQuestionTimer(options);\r\n\r\n// Continue from where it was paused\r\nresume();\n"})}),"\n",(0,s.jsx)(n.h4,{id:"reset",children:(0,s.jsx)(n.code,{children:"reset()"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"() => void"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Resets the timer to initial state with full time remaining"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const { reset } = useQuestionTimer(options);\r\n\r\n// Reset to beginning\r\nreset();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"examples-1",children:"Examples"}),"\n",(0,s.jsx)(n.h3,{id:"countdown-timer-with-progress-bar",children:"Countdown Timer with Progress Bar"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function CountdownQuestion({ config }) {\r\n  const timer = useQuestionTimer({\r\n    timeLimit: 120,\r\n    onTimeUp: () => {\r\n      alert('Time is up! Submitting your answer...');\r\n      submitAnswer();\r\n    },\r\n    autoStart: true,\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <h3>{config.question}</h3>\r\n      <div className=\"timer-display\">\r\n        <span>{timer.timeRemaining}s remaining</span>\r\n        <progress value={timer.progress} max={100} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"manual-timer-control",children:"Manual Timer Control"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'function ManualTimerQuestion({ config }) {\r\n  const timer = useQuestionTimer({\r\n    timeLimit: 300,\r\n    autoStart: false,\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <h3>{config.question}</h3>\r\n      <div className="timer-controls">\r\n        <p>Elapsed: {timer.timeElapsed}s</p>\r\n        <p>Remaining: {timer.timeRemaining}s</p>\r\n        \r\n        {!timer.isRunning && !timer.isTimeUp && (\r\n          <button onClick={timer.start}>Start Timer</button>\r\n        )}\r\n        \r\n        {timer.isRunning && (\r\n          <button onClick={timer.pause}>Pause</button>\r\n        )}\r\n        \r\n        {!timer.isRunning && timer.timeElapsed > 0 && !timer.isTimeUp && (\r\n          <button onClick={timer.resume}>Resume</button>\r\n        )}\r\n        \r\n        <button onClick={timer.reset}>Reset</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"timer-with-visual-feedback",children:"Timer with Visual Feedback"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function VisualTimerQuestion({ config }) {\r\n  const timer = useQuestionTimer({\r\n    timeLimit: 60,\r\n    onTick: (remaining) => {\r\n      if (remaining === 30) {\r\n        showNotification('Halfway through!');\r\n      } else if (remaining === 10) {\r\n        playSound('warning');\r\n      }\r\n    },\r\n    autoStart: true,\r\n  });\r\n\r\n  const getProgressColor = () => {\r\n    if (timer.progress < 50) return 'green';\r\n    if (timer.progress < 80) return 'orange';\r\n    return 'red';\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>{config.question}</h3>\r\n      <progress \r\n        value={timer.progress} \r\n        max={100}\r\n        style={{ accentColor: getProgressColor() }}\r\n      />\r\n      <span className={timer.timeRemaining <= 10 ? 'warning' : ''}>\r\n        {timer.timeRemaining}s remaining\r\n      </span>\r\n    </div>\r\n  );\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"formatted-time-display",children:"Formatted Time Display"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'function FormattedTimerQuestion({ config }) {\r\n  const timer = useQuestionTimer({\r\n    timeLimit: 600, // 10 minutes\r\n    autoStart: true,\r\n  });\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, \'0\')}`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>{config.question}</h3>\r\n      <div className="timer-display">\r\n        <div className="time-remaining">\r\n          {formatTime(timer.timeRemaining)}\r\n        </div>\r\n        <div className="time-elapsed">\r\n          Elapsed: {formatTime(timer.timeElapsed)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"multiple-timers",children:"Multiple Timers"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function MultiQuestionQuiz({ questions }) {\r\n  const timer1 = useQuestionTimer({ timeLimit: 60 });\r\n  const timer2 = useQuestionTimer({ timeLimit: 90 });\r\n  const timer3 = useQuestionTimer({ timeLimit: 45 });\r\n\r\n  const timers = [timer1, timer2, timer3];\r\n\r\n  return (\r\n    <div>\r\n      {questions.map((question, index) => (\r\n        <div key={question.id}>\r\n          <h3>{question.text}</h3>\r\n          <div>Time: {timers[index].timeRemaining}s</div>\r\n          <button onClick={timers[index].start}>Start</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"timer-with-auto-submit",children:"Timer with Auto-submit"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function AutoSubmitQuestion({ config, onSubmit }) {\r\n  const [answer, setAnswer] = useState('');\r\n\r\n  const timer = useQuestionTimer({\r\n    timeLimit: 120,\r\n    onTimeUp: () => {\r\n      // Automatically submit when time runs out\r\n      onSubmit({\r\n        questionId: config.id,\r\n        answer: answer,\r\n        timeSpent: timer.timeElapsed,\r\n      });\r\n    },\r\n    autoStart: true,\r\n  });\r\n\r\n  const handleManualSubmit = () => {\r\n    timer.pause();\r\n    onSubmit({\r\n      questionId: config.id,\r\n      answer: answer,\r\n      timeSpent: timer.timeElapsed,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>{config.question}</h3>\r\n      <textarea\r\n        value={answer}\r\n        onChange={(e) => setAnswer(e.target.value)}\r\n        disabled={timer.isTimeUp}\r\n      />\r\n      <div>\r\n        <span>Time: {timer.timeRemaining}s</span>\r\n        <button \r\n          onClick={handleManualSubmit}\r\n          disabled={timer.isTimeUp}\r\n        >\r\n          Submit Early\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"timer-with-pause-functionality",children:"Timer with Pause Functionality"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function PausableTimerQuestion({ config }) {\r\n  const timer = useQuestionTimer({\r\n    timeLimit: 180,\r\n    onTick: (remaining) => {\r\n      // Save progress every 10 seconds\r\n      if (remaining % 10 === 0) {\r\n        saveProgress({\r\n          timeRemaining: remaining,\r\n          timeElapsed: timer.timeElapsed,\r\n        });\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <h3>{config.question}</h3>\r\n      <div className=\"timer-status\">\r\n        <span>{timer.timeRemaining}s</span>\r\n        <span>{timer.isRunning ? 'Running' : 'Paused'}</span>\r\n      </div>\r\n      <div className=\"controls\">\r\n        {!timer.isRunning ? (\r\n          <button onClick={timer.timeElapsed > 0 ? timer.resume : timer.start}>\r\n            {timer.timeElapsed > 0 ? 'Resume' : 'Start'}\r\n          </button>\r\n        ) : (\r\n          <button onClick={timer.pause}>Pause</button>\r\n        )}\r\n        <button onClick={timer.reset}>Reset</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"timer-with-progress-stages",children:"Timer with Progress Stages"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function StagedTimerQuestion({ config }) {\r\n  const timer = useQuestionTimer({\r\n    timeLimit: 300,\r\n    onTick: (remaining) => {\r\n      // Different hints at different stages\r\n      if (remaining === 240) {\r\n        showHint('You have 4 minutes left');\r\n      } else if (remaining === 120) {\r\n        showHint('2 minutes remaining - start wrapping up');\r\n      } else if (remaining === 60) {\r\n        showHint('Final minute!');\r\n      }\r\n    },\r\n    autoStart: true,\r\n  });\r\n\r\n  const getStage = () => {\r\n    if (timer.progress < 33) return 'early';\r\n    if (timer.progress < 66) return 'middle';\r\n    return 'final';\r\n  };\r\n\r\n  return (\r\n    <div className={`stage-${getStage()}`}>\r\n      <h3>{config.question}</h3>\r\n      <div className=\"progress-indicator\">\r\n        <div \r\n          className=\"progress-bar\"\r\n          style={{ width: `${timer.progress}%` }}\r\n        />\r\n      </div>\r\n      <p>Stage: {getStage()}</p>\r\n      <p>Time: {timer.timeRemaining}s</p>\r\n    </div>\r\n  );\r\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"timer-behavior",children:"Timer Behavior"}),"\n",(0,s.jsx)(n.h3,{id:"update-interval",children:"Update Interval"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The timer updates every second (1000ms interval)"}),"\n",(0,s.jsx)(n.li,{children:"Updates are synchronized with the system clock for accuracy"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"automatic-stop",children:"Automatic Stop"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"When time reaches zero, the timer automatically stops"}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"onTimeUp"})," callback is triggered"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isTimeUp"})," is set to ",(0,s.jsx)(n.code,{children:"true"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isRunning"})," is set to ",(0,s.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"state-transitions",children:"State Transitions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"not started \u2192 running (via start())\r\nrunning \u2192 paused (via pause())\r\npaused \u2192 running (via resume())\r\nany state \u2192 reset (via reset())\r\nrunning \u2192 stopped (when time reaches 0)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"progress-calculation",children:"Progress Calculation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"progress = ((timeLimit - timeRemaining) / timeLimit) * 100\r\n\r\n// Examples:\r\n// timeLimit: 60, timeRemaining: 60 \u2192 progress: 0%\r\n// timeLimit: 60, timeRemaining: 30 \u2192 progress: 50%\r\n// timeLimit: 60, timeRemaining: 0  \u2192 progress: 100%\n"})}),"\n",(0,s.jsx)(n.h2,{id:"typescript",children:"TypeScript"}),"\n",(0,s.jsx)(n.p,{children:"Full TypeScript support with exported interfaces:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useQuestionTimer } from './hooks/useQuestionTimer';\r\nimport type { \r\n  UseQuestionTimerOptions, \r\n  UseQuestionTimerReturn \r\n} from './hooks/useQuestionTimer';\r\n\r\n// Type-safe configuration\r\nconst options: UseQuestionTimerOptions = {\r\n  timeLimit: 120,\r\n  onTimeUp: () => console.log('Done'),\r\n  onTick: (remaining: number) => console.log(remaining),\r\n  autoStart: false,\r\n};\r\n\r\nconst timer: UseQuestionTimerReturn = useQuestionTimer(options);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Always Provide timeLimit"}),": The timer requires a ",(0,s.jsx)(n.code,{children:"timeLimit"})," to function properly."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Clean Up Side Effects"}),": Use ",(0,s.jsx)(n.code,{children:"onTimeUp"})," and ",(0,s.jsx)(n.code,{children:"onTick"})," callbacks for side effects rather than external intervals."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Handle Edge Cases"}),": Check ",(0,s.jsx)(n.code,{children:"isTimeUp"})," before allowing interactions."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Display Progress"}),": Use the ",(0,s.jsx)(n.code,{children:"progress"})," property for visual feedback rather than calculating manually."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Save State"}),": Use ",(0,s.jsx)(n.code,{children:"onTick"})," to periodically save timer state for recovery."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Format Time"}),": Create reusable time formatting utilities for consistent display."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Accessibility"}),": Announce time warnings to screen readers at critical intervals."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"conditional-auto-start",children:"Conditional Auto-start"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const timer = useQuestionTimer({\r\n  timeLimit: 60,\r\n  autoStart: userHasStartedQuiz,\r\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"timer-with-warnings",children:"Timer with Warnings"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const timer = useQuestionTimer({\r\n  timeLimit: 120,\r\n  onTick: (remaining) => {\r\n    if (remaining === 60) showWarning('1 minute left');\r\n    if (remaining === 30) showWarning('30 seconds left');\r\n    if (remaining === 10) showWarning('10 seconds - hurry!');\r\n  },\r\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"persistent-timer-state",children:"Persistent Timer State"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function PersistentTimer() {\r\n  const [savedTime, setSavedTime] = useState(() => \r\n    parseInt(localStorage.getItem('timerRemaining') || '0')\r\n  );\r\n\r\n  const timer = useQuestionTimer({\r\n    timeLimit: savedTime || 300,\r\n    onTick: (remaining) => {\r\n      localStorage.setItem('timerRemaining', remaining.toString());\r\n    },\r\n  });\r\n\r\n  return <div>Time: {timer.timeRemaining}s</div>;\r\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"related-hooks",children:"Related Hooks"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"useQuestionState"}),": Manage question state including time spent"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"useQuestionValidation"}),": Validate answers before submission"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"useQuestion"}),": Access question context"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Timer updates every 1000ms (1 second)"}),"\n",(0,s.jsx)(n.li,{children:"Cleanup is handled automatically on component unmount"}),"\n",(0,s.jsxs)(n.li,{children:["Multiple calls to ",(0,s.jsx)(n.code,{children:"start()"})," on a running timer have no effect"]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"reset()"})," method clears ",(0,s.jsx)(n.code,{children:"isTimeUp"})," and restores full time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"onTick"})," callback receives the updated ",(0,s.jsx)(n.code,{children:"timeRemaining"})," value"]}),"\n",(0,s.jsx)(n.li,{children:"Progress is always between 0 and 100"}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>o});var r=i(6540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);